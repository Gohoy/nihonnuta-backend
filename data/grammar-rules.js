const GRAMMAR_RULES = [
  // ==================== N5 语法 ====================
  {
    id: "n_no_n",
    name: "名詞＋の＋名詞",
    level: "N5",
    pattern: [{ pos: "名詞" }, { text: "の", pos: "助詞" }, { pos: "名詞" }],
    description: "「の」连接两个名词，表示所属、性质、同位等关系",
    example: "私の本（我的书）",
  },
  {
    id: "n_wa_n_desu",
    name: "〜は〜です",
    level: "N5",
    pattern: [
      { pos: "名詞" },
      { text: "は", pos: "助詞" },
      { pos: "名詞" },
      { base_form: "です" },
    ],
    description: '基本判断句，表示"A是B"',
    example: "私は学生です（我是学生）",
  },
  {
    id: "n_ga_aru",
    name: "〜がある",
    level: "N5",
    pattern: [
      { pos: "名詞" },
      { text: "が", pos: "助詞" },
      { base_form: "ある" },
    ],
    description: "表示无生命物体的存在",
    example: "本がある（有书）",
  },
  {
    id: "n_ga_iru",
    name: "〜がいる",
    level: "N5",
    pattern: [
      { pos: "名詞" },
      { text: "が", pos: "助詞" },
      { base_form: "いる" },
    ],
    description: "表示有生命物体的存在",
    example: "猫がいる（有猫）",
  },
  {
    id: "n_wo_v",
    name: "〜を〜（他動詞）",
    level: "N5",
    pattern: [{ pos: "名詞" }, { text: "を", pos: "助詞" }, { pos: "動詞" }],
    description: "「を」标记动作的对象（宾语）",
    example: "本を読む（读书）",
  },
  {
    id: "n_ni_v",
    name: "〜に〜（場所・時間）",
    level: "N5",
    pattern: [{ pos: "名詞" }, { text: "に", pos: "助詞" }, { pos: "動詞" }],
    description: "「に」表示动作的目的地、时间点或对象",
    example: "学校に行く（去学校）",
  },
  {
    id: "n_de_v",
    name: "〜で〜（場所・手段）",
    level: "N5",
    pattern: [{ pos: "名詞" }, { text: "で", pos: "助詞" }, { pos: "動詞" }],
    description: "「で」表示动作发生的场所或使用的手段",
    example: "図書館で勉強する（在图书馆学习）",
  },
  {
    id: "v_tai",
    name: "〜たい",
    level: "N5",
    pattern: [{ pos: "動詞" }, { text: "たい", pos: "助動詞" }],
    matchCondition: (tokens, i) => {
      // 动词必须是连用形
      return tokens[i].kana?.endsWith("たい") === false;
    },
    description: "表示说话人的愿望、想要做某事",
    example: "食べたい（想吃）",
  },
  {
    id: "v_te_kudasai",
    name: "〜てください",
    level: "N5",
    pattern: [
      { pos: "動詞" },
      { text: "て", pos: "助詞" },
      { base_form: "くださる" },
    ],
    description: "请求对方做某事的礼貌表达",
    example: "見てください（请看）",
  },
  {
    id: "v_nai",
    name: "〜ない（否定）",
    level: "N5",
    pattern: [{ pos: "動詞" }, { text: "ない", pos: "助動詞" }],
    description: "动词的否定形式",
    example: "食べない（不吃）",
  },
  {
    id: "v_ta",
    name: "〜た（過去）",
    level: "N5",
    pattern: [{ pos: "動詞" }, { text: "た", pos: "助動詞" }],
    description: "动词的过去时态",
    example: "食べた（吃了）",
  },

  // ==================== N4 语法 ====================
  {
    id: "v_te_iru",
    name: "〜ている",
    level: "N4",
    pattern: [
      { pos: "動詞" },
      { text: "て", pos: "助詞" },
      { base_form: "いる" },
    ],
    description: "表示动作正在进行或状态的持续",
    example: "食べている（正在吃）",
  },
  {
    id: "v_te_ita",
    name: "〜ていた",
    level: "N4",
    pattern: [
      { pos: "動詞" },
      { text: "て", pos: "助詞" },
      { base_form: "いる" },
      { text: "た", pos: "助動詞" },
    ],
    description: "表示过去某时正在进行的动作",
    example: "食べていた（当时正在吃）",
  },
  {
    id: "v_te_shimau",
    name: "〜てしまう",
    level: "N4",
    pattern: [
      { pos: "動詞" },
      { text: "て", pos: "助詞" },
      { base_form: "しまう" },
    ],
    description: "表示动作完成或遗憾的心情",
    example: "忘れてしまう（忘掉了）",
  },
  {
    id: "v_te_kureru",
    name: "〜てくれる",
    level: "N4",
    pattern: [
      { pos: "動詞" },
      { text: "て", pos: "助詞" },
      { base_form: "くれる" },
    ],
    description: "表示别人为说话人做某事（带有感谢之意）",
    example: "教えてくれた（教了我）",
  },
  {
    id: "v_rareru",
    name: "〜られる（可能/受身）",
    level: "N4",
    pattern: [
      { pos: "動詞" },
      { kana_pattern: /^られ/, pos: "動詞", pos_detail: "接尾" },
    ],
    description: "表示可能或被动",
    example: "忘れられない（无法忘记）",
  },
  {
    id: "v_nakereba_naranai",
    name: "〜なければならない",
    level: "N4",
    pattern: [
      { pos: "動詞" },
      { text: "なけれ" },
      { text: "ば" },
      { text: "なら" },
      { text: "ない" },
    ],
    description: "表示必须做某事",
    example: "行かなければならない（必须去）",
  },
  {
    id: "n_no_youni",
    name: "〜のように",
    level: "N4",
    pattern: [
      { pos: "名詞" },
      { text: "の", pos: "助詞" },
      { text: "よう" },
      { text: "に", pos: "助詞" },
    ],
    description: '表示比喻，"像...一样"',
    example: "夢のように（像梦一样）",
  },
  {
    id: "v_youni",
    name: "〜ように",
    level: "N4",
    pattern: [
      { pos: "動詞" },
      { text: "よう", pos: "名詞" },
      { text: "に", pos: "助詞" },
    ],
    description: '表示目的或方式，"为了...""像...那样"',
    example: "忘れないように（为了不忘记）",
  },
  {
    id: "n_made",
    name: "〜まで",
    level: "N4",
    pattern: [{ pos: "名詞" }, { text: "まで", pos: "助詞" }],
    description: '表示时间或空间的终点，"到...为止"',
    example: "明日まで（到明天为止）",
  },
  {
    id: "v_tabi",
    name: "〜たび（に）",
    level: "N4",
    pattern: [{ pos: "動詞" }, { text: "たび", pos: "名詞" }],
    description: "表示每次做某事时",
    example: "会うたびに（每次见面）",
  },

  // ==================== N3 语法 ====================
  {
    id: "v_ba",
    name: "〜ば（条件）",
    level: "N3",
    pattern: [{ pos: "動詞" }, { text: "ば", pos: "助詞" }],
    alternativePattern: [
      { pos: "助動詞", text: "なら" },
      { text: "ば", pos: "助詞" },
    ],
    description: '表示假定条件，"如果...的话"',
    example: "行けば（如果去的话）",
  },
  {
    id: "n_sae",
    name: "〜さえ",
    level: "N3",
    pattern: [{ pos: "名詞" }, { text: "さえ", pos: "助詞" }],
    description: '表示极端例子，"甚至连...都"',
    example: "名前さえ（连名字都...）",
  },
  {
    id: "v_zu_ni",
    name: "〜ずに",
    level: "N3",
    pattern: [
      { pos: "動詞" },
      { text: "ず", pos: "助動詞" },
      { text: "に", pos: "助詞" },
    ],
    description: '表示"不做...而..."，是「〜ないで」的书面语',
    example: "言えずに（无法说出而...）",
  },
  {
    id: "n_tomo_ni",
    name: "〜とともに",
    level: "N3",
    pattern: [{ text: "とともに", pos: "助詞" }],
    alternativePattern: [
      { text: "と" },
      { text: "共", pos: "名詞" },
      { text: "に" },
    ],
    description: '表示"与...一起"或"随着..."',
    example: "あなたとともに（与你一起）",
  },
  {
    id: "n_hodo",
    name: "〜ほど",
    level: "N3",
    pattern: [{ pos: "動詞" }, { text: "ほど", pos: "助詞" }],
    description: '表示程度，"...到...的程度"',
    example: "泣くほど（哭泣的程度）",
  },
  {
    id: "v_koto_ga_dekiru",
    name: "〜ことができる",
    level: "N3",
    pattern: [
      { pos: "動詞" },
      { text: "こと", pos: "名詞" },
      { text: "が", pos: "助詞" },
      { base_form: "できる" },
    ],
    description: "表示能力或可能性",
    example: "話すことができる（能说话）",
  },
  {
    id: "v_koto_ga_aru",
    name: "〜ことがある",
    level: "N3",
    pattern: [
      { pos: "動詞" },
      { text: "こと", pos: "名詞" },
      { text: "が", pos: "助詞" },
      { base_form: "ある" },
    ],
    description: "表示有时会发生某事，或曾经有过某种经历",
    example: "忘れることがある（有时会忘记）",
  },

  // ==================== N2 语法 ====================
  {
    id: "v_te_yamana_i",
    name: "〜てやまない",
    level: "N2",
    pattern: [
      { pos: "動詞" },
      { text: "て", pos: "助詞" },
      { base_form: "やむ" },
      { text: "ない", pos: "助動詞" },
    ],
    description: "表示心情无法停止，强烈的愿望或感情",
    example: "願ってやまない（衷心希望）",
  },
  {
    id: "n_ni_kure",
    name: "〜にくれる",
    level: "N2",
    pattern: [
      { pos: "名詞" },
      { text: "に", pos: "助詞" },
      { base_form: "くれる", pos: "動詞" },
    ],
    description: "表示沉浸于某种状态",
    example: "涙にくれる（泪流满面）",
  },
  {
    id: "v_kire_nai",
    name: "〜きれない",
    level: "N2",
    pattern: [
      { pos: "動詞" },
      { base_form: "きれる", pos: "動詞" },
      { text: "ない", pos: "助動詞" },
    ],
    description: "表示无法完全做到某事",
    example: "受け止めきれない（无法完全承受）",
  },
  {
    id: "noni_gyaku",
    name: "〜のに（逆接）",
    level: "N2",
    pattern: [{ text: "のに", pos: "助詞" }],
    description: '表示转折、遗憾，"明明...却..."',
    example: "いたのに（明明在的却...）",
  },
];

module.exports = GRAMMAR_RULES;
